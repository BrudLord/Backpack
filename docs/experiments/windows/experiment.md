## Experiment Part 2

### 1. Предположение
- Используемые алгоритмы, кроме Greedy, имеют 100% точность.
- Greedy отрабатывает быстрее всех алгоритмов.
- Ленивая динамика и рекурсия имеют почти идентичный результат по времени.
- Полный перебор с битовыми масками имеет худший результат по времени.

### 2. Алгоритмы
- Bitmask
- Lazy Dynamic Programming
- Recursion
- Dynamic Programming
- Greedy

### 4. Оборудование
- ОС: Windows 11
- OS Type: 64-bit
- Процессор: AMD Ryzen 5 5500U
- RAM: 16 GiB

### 3. Данные
Эксперимент проведен на рандомизированных рюкзаках, составленных из 10/15/20 предметов по 100 сэмплов.

### 4. Проведение эксперимента
Эксперимент проводится с помощью бенчмарка Criterion со следюущими константами:

**1. `SAMPLE_SIZE`**  
Эта константа определяет **размер выборки** при проведении тестов. В данном эксперименте значение `SAMPLE_SIZE` установлено равным **10**, что означает выполнение **10 измерений** для каждого теста с целью повышения точности и снижения случайных отклонений.

**2. `WARM_UP_TIME`**  
Константа отвечает за **время предварительного разогрева** перед началом замеров. В эксперименте используется значение **1 секунда**, что позволяет системе достичь стабильного состояния перед началом сбора данных, минимизируя влияние начальных флуктуаций производительности.

**3. `NRESAMPLES`**  
Эта константа задаёт **количество повторных выборок** (итераций) для статистического анализа. В данном случае `NRESAMPLES` равно **1000**, что обеспечивает достаточно высокую точность при оценке статистических характеристик (например, среднего значения и доверительного интервала).

**4. `MEASUREMENT_TIME`**  
Константа определяет **время проведения измерений**. В рамках эксперимента оно установлено в **60 секунд**, что позволяет получить репрезентативные данные о производительности системы в течение продолжительного периода.


### 5. Метрики производительности
- Точность алгоритма измерена как процентное соотношение ответов, являющихся максимальными для каждого рюкзака, удовлетворяющих условию задачи.
- Время измерено в миллисекундах, сообщаются четыре метрики. Цитата из либы:
>The second line shows confidence intervals on the mean and standard deviation of the per-iteration times (calculated naively). If std. >dev. is large compared to the time values from above, the benchmarks are noisy. You may need to change your benchmark to reduce the >noise.
>The median/med. abs. dev. line is similar to the mean/std. dev. line, except that it uses the median and median absolute deviation. As >with the std. dev., if the med. abs. dev. is large, this indicates the benchmarks are noisy.



### 6. Результаты

#### 10 items
<pre>
    | Algorithm    | Success Rate | Execution Time (ms) (mean/std_dev/median/median_abs_dev) |
    |--------------|--------------|----------------------------------------------------------|
    | Bit mask     | 100.00%      |  0.258/ 0.005/ 0.256/ 0.003                              |
    | Dynamic      | 100.00%      |  1.175/ 0.034/ 1.170/ 0.033                              |
    | Greedy       | 69.00%       |  0.007/ 0.000/ 0.007/ 0.000                              |
    | Lazy dynamic | 100.00%      |  0.379/ 0.012/ 0.381/ 0.014                              |
    | Recursion    | 100.00%      |  0.015/ 0.001/ 0.015/ 0.001                              |
</pre>

#### 15 items

<pre>
    | Algorithm    | Success Rate | Execution Time (ms) (mean/std_dev/median/median_abs_dev) |
    |--------------|--------------|----------------------------------------------------------|
    | Bit mask     | 100.00%      |  9.028/ 0.421/ 8.800/ 0.170                              |
    | Dynamic      | 100.00%      |  1.789/ 0.069/ 1.773/ 0.035                              |
    | Greedy       | 60.00%       |  0.014/ 0.001/ 0.013/ 0.000                              |
    | Lazy dynamic | 100.00%      |  1.702/ 0.055/ 1.680/ 0.027                              |
    | Recursion    | 100.00%      |  0.075/ 0.005/ 0.074/ 0.005                              |
</pre>


#### 20 items

<pre>
    | Algorithm    | Success Rate | Execution Time (ms) (mean/std_dev/median/median_abs_dev) |
    |--------------|--------------|----------------------------------------------------------|
    | Bit mask     | 100.00%      | 283.950/11.650/283.380/11.733                            |
    | Dynamic      | 100.00%      |  2.398/ 0.025/ 2.406/ 0.011                              |
    | Greedy       | 56.00%       |  0.022/ 0.001/ 0.022/ 0.000                              |
    | Lazy dynamic | 100.00%      |  5.190/ 0.054/ 5.200/ 0.059                              |
    | Recursion    | 100.00%      |  0.201/ 0.002/ 0.201/ 0.002                              |
</pre>


### 7. Результаты по памяти
|             | Maximum resident set size (bytes)    |
|-------------|--------------------------------------|
| Recursion   |               6692864                |
| Bit mask    |               6684672                |
| Dynamic     |               6713344                |
| Greedy      |               6729728                |
| Lazy Dynamic|               6852608                |


### 8. Интерпретация результатов

- Greedy оказался самым быстрым, но Bitmask — самым медленным при росте входных данных. Dynamic Programming работает стабильнее и быстрее Lazy Dynamic, особенно на больших выборках. Высокое стандартное отклонение у Bitmask (до 11.650 ms) указывает на большую вариативность времени выполнения при увеличении размера задачи. Greedy имеет наименьшее отклонение (0.001 ms), что подтверждает его стабильность в скорости выполнения.
- Большинство алгоритмов (Greedy, Dynamic, Bitmask, Recursion) имеют схожее потребление памяти. Похожие результаты по памяти для разных алгоритмов могут быть связаны с накладными расходами (инициализация Criterion, cоздание отчетов и графиков, cбор метрик). Lazy Dynamic выделяется значительно большим потреблением. Рекурсивный подход, вопреки ожиданиям, показал наименьшее потребление памяти. Это говорит о том, что ленивая динамика требует существенно больше памяти для кэширования результатов, в то время как остальные алгоритмы более эффективны в управлении памятью.
